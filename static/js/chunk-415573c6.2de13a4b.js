(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-415573c6"],{"2c26":function(e,t,s){"use strict";s("6c91")},"6c91":function(e,t,s){},ca86:function(e,t,s){"use strict";s.r(t);s("7f7f");var a=function(){var e=this,t=e._self._c;return t("main",[t("el-button",{directives:[{name:"show",rawName:"v-show",value:0!=e.selectMessage.length,expression:"selectMessage.length!=0"}],staticClass:"delete",attrs:{type:"danger",size:"mini"},on:{click:e.selectDelete}},[e._v("删除选中")]),t("section",{staticClass:"wrap scroll"},[t("div",{staticClass:"main_table"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.message,stripe:"","max-height":"600","tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{prop:"id",label:"编号",width:"80"}}),t("el-table-column",{attrs:{label:"用户名","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(s){return[s.row.user_id?t("span",[e._v("\n              "+e._s(s.row.user.name)+"\n            ")]):t("span",[e._v("\n              (游客) "+e._s(s.row.name)+"\n            ")])]}}])}),t("el-table-column",{attrs:{prop:"content",label:"留言内容","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"created_at",label:"创建日期","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteBtn(s.row)}}},[e._v("删除")])]}}])})],1),e.pageModel.sumCount>10?t("page",{attrs:{pageModel:e.pageModel},on:{selectList:e.selectRoleList}}):e._e()],1)])],1)},n=[],o=(s("ac6a"),s("14eb")),l={components:{page:o["a"]},data:function(){return{loading:!0,message:[],selectMessage:[],pageModel:{page:1,sumCount:10}}},created:function(){this.getMessage()},methods:{getMessage:function(){var e=this;this.loading=!0,this.$post("/apis/message/list",this.pageModel).then((function(t){e.message=t.data.data,e.pageModel.sumCount=t.data.total,e.loading=!1})).catch((function(){}))},selectRoleList:function(){this.getMessage()},deleteBtn:function(e){var t=this;this.$confirm("是否删除该留言?","提示",{type:"warning"}).then((function(){t.$post("/apis/message/deletes",{id:e.id}).then((function(s){t.$message.success(s.message),t.message.splice(t.message.indexOf(e),1)}))})).catch((function(){}))},handleSelectionChange:function(e){var t=[];e.forEach((function(e){t.push(e.id)})),this.selectMessage=t},selectDelete:function(){var e=this;this.$confirm("是否删除选中的留言?","提示",{type:"warning"}).then((function(){e.$post("/apis/message/deletes",e.selectMessage).then((function(t){e.$message.success(t.message),e.getMessage()}))})).catch((function(){}))}}},i=l,c=(s("2c26"),s("2877")),r=Object(c["a"])(i,a,n,!1,null,"0886eb88",null);t["default"]=r.exports}}]);